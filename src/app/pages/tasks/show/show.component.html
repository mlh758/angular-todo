<h2 i18n="Heading for a details page about tasks">Task Details</h2>

@if (taskRequest.hasValue()) {
  @let task = taskRequest.value();
  <dl i18n="Details of the current task in context">
    <dt>Title:</dt>
    <dd>{{ task.title }}</dd>

    <dt>Description:</dt>
    <dd>{{ task.description }}</dd>

    <dt>Due Date:</dt>
    <dd>{{ task.dueDate | date }}</dd>

    @if (task.completed) {
      <dt>Status:</dt>
      <dd>Completed</dd>
    } @else {
      <app-button (click)="completeTask()">Complete now!</app-button>
    }
  </dl>
}

@if (taskRequest.isLoading()) {
  <app-loading-spinner />
}

@if (taskRequest.error()) {
  <p>Error loading task: {{ taskRequest.error() }}</p>
  <p>Are you sure this task exists?</p>
}
